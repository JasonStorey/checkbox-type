var CheckboxLetters = function(text) {
	var checkboxes = [],
		cols = 5,
		rows = 7,
		width = 60,
		height = 70,
		resolution = cols * rows;

	for(var i = 0; i < text.length; i++) {
		var letter = text.charAt(i),
			letterDiv = $('<div>').css({
				'width': width + 'px',
				'height': height + 'px',
				'padding': 0,
				'margin': '2px',
				'float': 'left'
			});

		for(var j = 0; j < resolution; j++) {
			var checkbox = $('<input type="checkbox">').css({
				'width': (width / cols) + 'px',
				'height': (height / rows) + 'px',
				'padding': 0,
				'margin': 0,
				'float': 'left'
			});

			if(GLYPHS[letter].indexOf(j) !== -1) {
				checkbox.attr('checked', true);
			}			
			letterDiv.append(checkbox);
		}

		letterDiv.data('letter', letter);

		letterDiv.click(function(e){
			var target = $(e.currentTarget);
			var letterPixels = [];
			
			console.log(target.data('letter'));

			$(target).find('input').each(function(index){
				if(this.checked === true){
					letterPixels.push(index);	
				}
			});

			console.log(letterPixels);
		});
		
		checkboxes.push(letterDiv);
	}

	checkboxes.push($('<div>').css('clear', 'both'));

	return checkboxes;
};

var GLYPHS = {
	'A': [2, 6, 7, 8, 10, 11, 13, 14, 15, 19, 20, 21, 22, 23, 24, 25, 29, 30, 34],
	'B': [0, 1, 2, 3, 5, 6, 9, 10, 11, 14, 15, 16, 17, 18, 20, 21, 24, 25, 26, 29, 30, 31, 32, 33, 34],
	'C': [1, 2, 3, 5, 6, 9, 10, 11, 15, 16, 20, 21, 25, 26, 29, 31, 32, 33],
	'D': [0, 1, 2, 3, 5, 6, 9, 10, 11, 14, 15, 16, 19, 20, 21, 24, 25, 26, 29, 30, 31, 32, 33],
	'E': [0, 1, 2, 3, 4, 5, 6, 9, 10, 11, 15, 16, 17, 18, 19, 20, 21, 25, 26, 29, 30, 31, 32, 33, 34],
	'F': [0, 1, 2, 3, 4, 5, 6, 9, 10, 11, 15, 16, 17, 18, 20, 21, 25, 26, 30, 31],
	'G': [1, 2, 3, 5, 6, 9, 10, 11, 15, 16, 18, 19, 20, 21, 24, 25, 26, 29, 31, 32, 33],
	'H': [0, 1, 4, 5, 6, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 24, 25, 26, 29, 30, 31, 34],
	'I': [1, 2, 3, 7, 12, 17, 22, 27, 31, 32, 33],
	'J': [0, 1, 2, 3, 4, 5, 8, 13, 18, 23, 25, 28, 30, 31, 32, 33],
	'K': [0, 4, 5, 8, 9, 10, 11, 12, 13, 15, 16, 17, 20, 22, 23, 25, 28, 29, 30, 34],
	'L': [0, 1, 5, 6, 10, 11, 15, 16, 20, 21, 25, 26, 29, 30, 31, 32, 33, 34],
	'M': [0, 4, 5, 6, 8, 9, 10, 11, 12, 13, 14, 15, 17, 19, 20, 24, 25, 29, 30, 34],
	'N': [0, 4, 5, 6, 9, 10, 11, 12, 14, 15, 17, 18, 19, 20, 23, 24, 25, 29, 30, 34],
	'O': [1, 2, 3, 5, 6, 8, 9, 10, 11, 13, 14, 15, 16, 18, 19, 20, 21, 23, 24, 25, 26, 28, 29, 31, 32, 33],
	'P': [0, 1, 2, 3, 5, 6, 9, 10, 11, 14, 15, 16, 17, 18, 20, 21, 25, 26, 30, 31],
	'Q': [1, 2, 3, 5, 9, 10, 14, 15, 19, 20, 22, 24, 25, 28, 31, 32, 34],
	'R': [0, 1, 2, 3, 5, 6, 9, 10, 11, 14, 15, 16, 17, 18, 20, 21, 23, 25, 26, 29, 30, 31, 34],
	'S': [1, 2, 3, 4, 5, 6, 9, 10, 11, 16, 17, 18, 23, 24, 25, 28, 29, 30, 31, 32, 33],
	'T': [0, 1, 2, 3, 4, 5, 7, 9, 12, 17, 22, 27, 31, 32, 33],
	'U': [0, 1, 4, 5, 6, 9, 10, 11, 14, 15, 16, 19, 20, 21, 24, 25, 26, 29, 30, 31, 32, 33, 34],
	'V': [0, 4, 5, 9, 10, 14, 15, 16, 18, 19, 21, 23, 26, 27, 28, 32],
	'W': [0, 4, 5, 9, 10, 14, 15, 17, 19, 20, 21, 22, 23, 24, 25, 26, 28, 29, 30, 34],
	'X': [0, 4, 5, 9, 11, 12, 13, 17, 21, 22, 23, 25, 29, 30, 34],
	'Y': [0, 4, 5, 9, 10, 11, 13, 14, 16, 17, 18, 22, 27, 32],
	'Z': [0, 1, 2, 3, 4, 5, 8, 9, 13, 17, 21, 25, 26, 29, 30, 31, 32, 33, 34],
	' ': [],
	'.': [25, 26, 30, 31]
};

module.exports = CheckboxLetters;